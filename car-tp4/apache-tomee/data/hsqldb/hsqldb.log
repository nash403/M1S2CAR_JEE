/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C4*/SET SCHEMA PUBLIC
CREATE TABLE Author (name VARCHAR(255) NOT NULL, PRIMARY KEY (name))
CREATE TABLE Author_Book (AUTHOR_NAME VARCHAR(255), BOOKS_ID BIGINT)
CREATE TABLE Book (id BIGINT NOT NULL, title VARCHAR(255), year VARCHAR(255), AUTHOR_NAME VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE OPENJPA_SEQUENCE_TABLE (ID TINYINT NOT NULL, SEQUENCE_VALUE BIGINT, PRIMARY KEY (ID))
CREATE INDEX I_UTHR_BK_AUTHOR_NAME ON Author_Book (AUTHOR_NAME)
CREATE INDEX I_UTHR_BK_ELEMENT ON Author_Book (BOOKS_ID)
CREATE INDEX I_BOOK_AUTHOR ON Book (AUTHOR_NAME)
INSERT INTO OPENJPA_SEQUENCE_TABLE VALUES(0,1)
COMMIT
DELETE FROM OPENJPA_SEQUENCE_TABLE WHERE ID=0
INSERT INTO OPENJPA_SEQUENCE_TABLE VALUES(0,51)
COMMIT
/*C2*/SET SCHEMA PUBLIC
INSERT INTO AUTHOR VALUES('Honore de Balzac')
INSERT INTO BOOK VALUES(1,'Le Pere Goriot','2000','Honore de Balzac')
INSERT INTO BOOK VALUES(2,'Les Chouans','2001','Honore de Balzac')
INSERT INTO AUTHOR VALUES('Victor Hugo')
INSERT INTO BOOK VALUES(3,'Les Miserables','1920','Victor Hugo')
COMMIT
/*C4*/DELETE FROM OPENJPA_SEQUENCE_TABLE WHERE ID=0
INSERT INTO OPENJPA_SEQUENCE_TABLE VALUES(0,101)
COMMIT
/*C2*/DELETE FROM AUTHOR WHERE NAME='Honore de Balzac'
DELETE FROM AUTHOR WHERE NAME='Victor Hugo'
DELETE FROM BOOK WHERE ID=1
DELETE FROM BOOK WHERE ID=2
DELETE FROM BOOK WHERE ID=3
INSERT INTO AUTHOR VALUES('Honore de Balzac')
INSERT INTO BOOK VALUES(51,'Le Pere Goriot','2000','Honore de Balzac')
INSERT INTO BOOK VALUES(52,'Les Chouans','2001','Honore de Balzac')
INSERT INTO AUTHOR VALUES('Victor Hugo')
INSERT INTO BOOK VALUES(53,'Les Miserables','1920','Victor Hugo')
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/DISCONNECT
